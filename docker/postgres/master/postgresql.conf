# PostgreSQL Configuration File for Master

# Connection Settings
listen_addresses = '*'
port = 5432
max_connections = 200

# Memory Settings
shared_buffers = 256MB
effective_cache_size = 1GB
maintenance_work_mem = 128MB
work_mem = 16MB

# WAL Settings
wal_level = replica
max_wal_senders = 5
wal_keep_size = 256MB
hot_standby = on

# Logging
logging_collector = on
log_directory = 'log'
log_filename = 'postgresql-%Y-%m-%d.log'
log_statement = 'none'
log_connections = off
log_disconnections = off;

# Performance (Производительность)
checkpoint_completion_target = 0.9 

wal_buffers = 16MB
default_statistics_target = 100
random_page_cost = 1.1
effective_io_concurrency = 200

# Query Planner
enable_seqscan = on
enable_indexscan = on
enable_bitmapscan = on

# Connection Pooling
tcp_keepalives_idle = 600
tcp_keepalives_interval = 30
tcp_keepalives_count = 3